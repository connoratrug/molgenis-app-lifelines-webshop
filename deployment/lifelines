# Add group
add group lifelines

# Create user
add user ll_admin --set-password xxxxx 
make ll_admin lifelines_manager

$wait Create custom role LIFELINES_SHOPPER and add group "lifelines" 

# Give plugin permissions
give --role ANONYMOUS read --plugin app

# Import the lifelines data
$wait Please import all the lifelines data (i18n translations included) by executing 'import -p ~/lifelines.zip'

# Give ANONYMOUS package permissions
give --role ANONYMOUS readmeta --package lifelines
give --role ANONYMOUS read --package sys_md

# Give ANONYMOUS count permissions
give --role ANONYMOUS count --entity-type lifelines_who
give --role ANONYMOUS count --entity-type lifelines_who_when
give --role ANONYMOUS count --entity-type lifelines_subsection_variable

# Give read ANONYMOUS permissions
give --role ANONYMOUS read --entity-type sys_L10nString
give --role ANONYMOUS read --entity-type lifelines_variable
give --role ANONYMOUS read --entity-type lifelines_section 
give --role ANONYMOUS read --entity-type lifelines_assessment
give --role ANONYMOUS read --entity-type lifelines_age_group 
give --role ANONYMOUS read --entity-type lifelines_sub_section
give --role ANONYMOUS read --entity-type lifelines_tree
give --role ANONYMOUS read --entity-type lifelines_variant
give --role ANONYMOUS read --entity-type lifelines_subsection_variable

# Give write LIFELINES_SHOPPER permissions to cart
enable rls lifelines_order
give --role LIFELINES_SHOPPER write --entity-type lifelines_order
